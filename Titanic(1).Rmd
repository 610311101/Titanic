---
title: "Data Mining: Titanic(1)"
output: html_notebook
---
```{r, message=FALSE, warning=FALSE, echo=FALSE}
library("caret");
library("ggplot2");
library("magrittr");
library("plot3D");
library("dplyr");
library("ggpubr")
setwd("C:/Users/hou/Desktop")
Data <- read.csv("Titanic/train.csv",header = T);
#kable(head(Data))
colnames(Data) %>% paste(collapse = "\n") %>% cat();
```
變數有以上12個，其中**Survived**是我們想預測的(也就是Y)，
在開始玩這筆資料之前，我想先暫時**不**去注意：

* Passenger
* Name
* Ticket
* Cabin

理由是"PassengerId"看起來好像沒那麼重要，其餘的都是有點難處理的狀態。

---

**Survived**是**0**代表**最後死亡**，反之**1**代表**最後存活**。

 * 圓餅圖有點難把數字貼上去(我廢)。
 * 死的人比較多QQ。
```{r, echo=FALSE}
##  Survived
Data$Survived <- as.factor(Data$Survived);
Counts <- table(Data$Survived);
g1 <- ggplot(Data, aes(x = "1",y = Survived, fill = Survived)) +
  geom_bar(stat = "identity", width=1) + coord_polar("y") + 
  theme_void();
Counts <- Data$Survived %>% table();
g2 <- ggplot(Data, aes(x = Survived, fill = Survived)) +
  geom_bar(stat = "count", width=0.5) + 
  ylab("") +
  xlab("") +
  annotate("text", x=1, y=Counts[1], label= Counts[1]) + 
  annotate("text", x=2, y=Counts[2], label= Counts[2]) + 
  coord_flip();
##  Pclass
Data$Pclass <- as.factor(Data$Pclass);
Counts <- Data$Pclass %>% table();
g3 <- ggplot(Data, aes(x = "1",y = Pclass, fill = Pclass)) +
  geom_bar(stat = "identity", width=1) + coord_polar("y") + 
  theme_void();
g4 <- ggplot(Data, aes(x = Pclass, fill = Pclass)) +
  geom_bar(stat = "count", width=0.5) + 
  ylab("") +
  xlab("") +
  annotate("text", x=1, y=Counts[1], label= Counts[1]) + 
  annotate("text", x=2, y=Counts[2], label= Counts[2]) + 
  annotate("text", x=3, y=Counts[3], label= Counts[3]) +
  coord_flip();
ggarrange(g1, g2, g3, g4,
          labels = c("Survived pie", "Survived bar", "Pclass pie", "Pclass pie"),
          ncol = 2, nrow = 2);

```
**Pclass**代表社會階級，其中**3**代表**低下階層**、**2**代表**中階階層**
以及**1**代表**上位階層**，這個類別變數的大小其實是有意義的。

 * 船上最多的是**3**的階級。
 * **2**反而是最少，**1**居然比**2**來的多一些。

**Sex**代表性別，男姓比女性多不少。
```{r, echo=FALSE}
g1 <- ggplot(Data, aes(x = "1",y = Sex, fill = Sex)) +
  geom_bar(stat = "identity", width=1) + coord_polar("y") + 
  theme_void()

Counts <- Data$Sex %>% table();
g2 <- ggplot(Data, aes(x = Sex, fill = Sex)) +
  geom_bar(stat = "count", width=0.5) + 
  ylab("") +
  xlab("") +
  annotate("text", x=1, y=Counts[1], label= Counts[1]) + 
  annotate("text", x=2, y=Counts[2], label= Counts[2]) + 
  coord_flip()

g3 <- ggplot(Data, aes(x = "1",y = Embarked, fill = Embarked)) +
  geom_bar(stat = "identity", width=1) + coord_polar("y") + 
  theme_void()

Counts <- Data$Embarked %>% table();
g4 <- ggplot(Data, aes(x = Embarked, fill = Embarked)) +
  geom_bar(stat = "count", width=0.5) + 
  ylab("") +
  xlab("") +
  annotate("text", x=1, y=Counts[1], label= Counts[1]) + 
  annotate("text", x=2, y=Counts[2], label= Counts[2]) + 
  annotate("text", x=3, y=Counts[3], label= Counts[3]) + 
  annotate("text", x=4, y=Counts[4], label= Counts[4]) + 
  coord_flip()
ggarrange(g1, g2, g3, g4, 
          labels = c("Sex pie", "Sex bar", "Embarked pie", "Embarked bar"),
          ncol = 2, nrow = 2)
```
**Embarked**代表登船港口，**C**代表**瑟堡**、**Q**代表**皇后鎮**、**S**代表
**南安普頓**以及**有人登船港口不明**！

 * 有2位不知道哪裡登船的人。
 * 大多數人都來自**S**港口，其次是**C**港口，最後是**Q**港口。

---

#### 根據這筆資料簡單的summary：

  * 死亡人數多餘存活。
  * 船上人數最多的人是來自低下階層。
  * 男性多於女性。
  * 大部分人數都從**S**港口上船的。


